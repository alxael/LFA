3
A B C
8
0 S A B
0 S B C
0 A B A
1 A a
0 B C C
1 B b
0 C A B
1 C a